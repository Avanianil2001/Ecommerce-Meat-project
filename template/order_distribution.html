<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>order distribution</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8" />
	<meta name="keywords"
		content="Fresh Meats" />
	<script>
		addEventListener("load", function () {
			setTimeout(hideURLbar, 0);
		}, false);

		function hideURLbar() {
			window.scrollTo(0, 1);
		}
	</script>
	<!--// Meta tag Keywords -->

	<!-- Custom-Files -->
	<link rel="stylesheet" href="{%static 'css/bootstrap.css' %}">
	<!-- Bootstrap-Core-CSS -->
	<link href="{%static 'css/css_slider.css' %}" type="text/css" rel="stylesheet" media="all">
	<!-- css slider -->
	<link rel="stylesheet" href="{%static 'css/style.css' %}" type="text/css" media="all" />
	<!-- Style-CSS -->
	<link href="css/font-awesome.min.css' %}" rel="stylesheet">
	<!-- Font-Awesome-Icons-CSS -->
	<!-- //Custom-Files -->

    <!-- Web-Fonts -->
	<link
		href="//fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i&amp;subset=latin-ext"
		rel="stylesheet">
	<link
		href="//fonts.googleapis.com/css?family=Barlow+Semi+Condensed:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i"
		rel="stylesheet">
	<!-- //Web-Fonts -->

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

	<style>

        /* Navigation menu */
        .menu {
            list-style-type: none; /* Remove default list styling */
            display: flex; /* Use flexbox for horizontal layout */
            justify-content: center; /* Center items horizontally */
            align-items: center; /* Center items vertically */
            padding: 0;
        }

        .menu li {
            margin: 0 15px; /* Spacing between menu items */
        }

        .menu a {
<!--            font-weight: bold; /* Make text bold */-->
            padding: 10px 15px; /* Add padding for clickable area */
            display: block; /* Ensure the entire area is clickable */
        }

        /* Drop-down menu styles */
        .menu ul {
            display: none; /* Hide drop-down by default */
            position: absolute; /* Position it absolutely relative to the parent */
            border: 1px solid #ddd; /* Border around drop-down */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Add shadow for better visibility */
            padding: 10px 0; /* Padding inside the drop-down */
            list-style-type: none; /* Remove default list styling */
        }

        .menu li:hover ul {
            display: block; /* Show drop-down on hover */
        }

        .menu ul li {
            margin: 0; /* Remove margin for drop-down items */
        }

        .menu ul li a {
            padding: 10px 20px; /* Padding inside drop-down items */
            color: #333; /* Text color */
            border-bottom: 1px solid #ddd; /* Border between items */
        }

        .menu ul li a:hover {
            background-color: #f8f9fa; /* Background color on hover */
        }

		/* General styling for the order-distribution container */

		.order-distribution {
			font-family: Arial, sans-serif;
			color: #333;
			padding: 20px;
			max-width: 800px;
			margin: auto;
			border: 1px solid #ddd;
			border-radius: 8px;
			background-color: #f9f9f9;
		}

		/* Styling for headings */
		.order-distribution h1 {
			font-size: 2.5em;
			font-weight: bold;
			text-transform: uppercase;
			color: #4CAF50; /* Attractive green color */
			text-align: center;
			margin-bottom: 20px;
			border-bottom: 2px solid #4CAF50;
			padding-bottom: 10px;
		}

		.order-distribution h2 {
			font-size: 1.8em;
			font-weight: bold;
			text-transform: uppercase;
			color: #2196F3; /* Attractive blue color */
			margin-top: 20px;
			margin-bottom: 15px;
			border-bottom: 1px solid #2196F3;
			padding-bottom: 5px;
		}

		/* Styling for the table */
		.table {
			width: 100%;
			border-collapse: collapse;
			margin-bottom: 20px;
		}

		.table-bordered {
			border: 1px solid #ddd;
		}

		.table-bordered th,
		.table-bordered td {
			padding: 12px;
			text-align: left;
			border: 1px solid #ddd;
		}

		.table-bordered th {
			background-color: #f2f2f2;
			font-weight: bold;
		}

		.table-bordered td {
			background-color: #fff;
		}

		/* Styling for the form */
		.form-group {
			margin-bottom: 20px;
		}

		.label {
			font-weight: bold;
			margin-bottom: 5px;
			display: block;
		}

		.select {
			width: 100%;
			padding: 8px;
			border-radius: 4px;
			border: 1px solid #ccc;
		}

		.btn-primary {
			background-color: #4CAF50; /* Matching button color */
			color: white;
			border: none;
			padding: 10px 20px;
			border-radius: 4px;
			cursor: pointer;
			font-size: 1em;
			transition: background-color 0.3s;
		}

		.btn-primary:hover {
			background-color: #45a049; /* Darker green on hover */
		}

		/* Styling for messages */
		p {
			font-size: 1.2em;
			color: #555;
		}

	</style>
</head>

<body>
<!-- header -->
	<header id="home">
		<!-- top-bar -->
		<div class="top-bar py-2 border-bottom">
			<div class="container">
				<div class="row middle-flex">
					<div class="col-xl-7 col-md-5 top-social-agile mb-md-0 mb-1 text-lg-left text-center">
						<div class="row">
							<div class="col-xl-3 col-6 header-top_w3layouts">
								<p class="text-da">
									<span class="fa fa-map-marker mr-2"></span>Cochin, Kerala
								</p>
							</div>
							<div class="col-xl-3 col-6 header-top_w3layouts">
								<p class="text-da">
									<span class="fa fa-phone mr-2"></span>+91 9605932427
								</p>
							</div>
							<div class="col-xl-6"></div>
						</div>
					</div>
					<div class="col-xl-5 col-md-7 top-social-agile text-md-right text-center pr-sm-0 mt-md-0 mt-2">
						<div class="row middle-flex">
							<div class="col-lg-12 col-4 top-w3layouts p-md-0 text-right">
								<!-- login -->
								<a href="../../home" class="btn login-button-2 text-uppercase text-wh">
									<span class="fa fa-sign-in mr-2"></span>Logout</a>
								<!-- //login -->
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</header>
	<!-- //top-bar -->

	<!-- header 2 -->
	<!-- navigation -->
	<div class="main-top py-1">
		<div class="container">
			<div class="nav-content">
				<!-- logo -->
				<h1>
					<a id="logo" class="logo" href="">
						<img style="padding-left:5px;" src="{%static 'images/logo1.jpg' %}" height="350px" width="250px" alt="logo1" class="img-fluid">
					</a>
				</h1>
				<!-- //logo -->
				<!-- nav -->
				<div class="nav_web-dealingsls">
					<nav>
						<ul class="menu">
							<li><a href="../../admin_home">Home</a></li>
							<li><a href="../../add_product">Add Product</a></li>
<!--							<li><a href="add_employee">Add Employee</a></li>-->
<!--							<li>-->
<!--								&lt;!&ndash; Second Tier Drop Down &ndash;&gt;-->
<!--								<label for="drop-1" class="toggle toogle-2">Offer<span class="fa fa-angle-down" aria-hidden="true"></span></label>-->
<!--								<a href="#pages">Offer<span class="fa fa-angle-down" aria-hidden="true"></span></a>-->
<!--								<input type="checkbox" id="drop-1" />-->
<!--								<ul>-->
<!--								<li><a href="add_offer">Add Offer Details</a></li>-->
<!--								<li><a href="view_offer">View Offer Details</a></li>-->
<!--								</ul>-->
<!--							</li>-->
							<li>
								<!-- First Tier Drop Down -->
								<label for="drop-3" class="toggle toogle-2">View Details<span class="fa fa-angle-down" aria-hidden="true"></span></label>
								<a href="#pages">View Details<span class="fa fa-angle-down" aria-hidden="true"></span></a>
								<input type="checkbox" id="drop-3" />
								<ul>
<!--									<li><a class="drop-text" href="view_user">View Users</a></li>-->
<!--									<li><a class="drop-text" href="view_employee">View Employees</a></li>-->
									<li><a class="drop-text" href="../../view_delivery">View Delivery Persons</a></li>
									<li><a class="drop-text" href="../../view_feedback">View User Feedback</a></li>
								</ul>
							</li>
							<li><a href="../../view_user">User Details</a></li>
							<li><a href="../../view_product">Product Details</a></li>
							<li><a href="../../view_order">Order Details</a></li>
<!--							<li><a href="../../ordr_distri">Order Distribution</a></li>-->
						</ul>
					</nav>
				</div>
				<!-- //nav-->
			</div>
		</div>
	</div>
	<!-- //navigation -->
    <!-- //navigation -->
	<!-- //header2 -->

	<!-- banner -->
	<div>
		<img src="{%static 'images/admin-bg-2.jpeg' %}" height="300px" width="1473px">
	</div>
	<!-- //banner -->
	<!-- page details -->
	<div class="breadcrumb-agile bg-light py-2">
		<ol class="breadcrumb bg-light m-0">
			<li class="breadcrumb-item">
				<a href="../../admin_home">Home</a>
			</li>
			<li class="breadcrumb-item active" aria-current="page">Order Distribution</li>
		</ol>
	</div>
	<!-- //page details -->

<!-- message -->
	{% if messages %}
	<div class="container">
		<div class="alert alert-success alert-dismissible messages">
			{% for message in messages %}
				<button type="button" class="close" data-dismiss="alert"></button>
			 {{message}}
	  	</div>
		 {% endfor %}
	</div>
	{% endif %}
<!-- //message -->

<!--distribution-->
<div class="order-distribution">
    <h1>Order Distribution</h1>

    {% if order %}
		<h2>Order Details</h2>
		<table class="table table-bordered">
			<tr>
				<th>Order ID</th>
				<td>{{ order.order_id }}</td>
			</tr>
			<tr>
				<th>Customer</th>
				<td>{{ order.customer.u_name }}</td>
			</tr>
			<tr>
				<th>Address</th>
				<td>{{ order.so_address }}, {{ order.so_city }}, {{ order.so_district }}</td>
			</tr>
			<tr>
				<th>Product</th>
				<td><img src="{{ order.product.pro_img.url }}" height="90" width="90"></td>
			</tr>
			<tr>
				<th>Quantity</th>
				<td>{{ order.quantity }}</td>
			</tr>
			<tr>
				<th>Total Price</th>
				<td>{{ order.total_price }}</td>
			</tr>
			<tr>
				<th>Payment Mode</th>
				<td>{{ order.payment_mode }}</td>
			</tr>
		</table>

		<h2>Assign Delivery Person</h2>
            {% if delivery_persons %}
                <form method="POST">
					{% csrf_token %}
					<input type="hidden" name="order_id" value="{{ order.id }}">
					<div class="form-group">
						<label for="delivery_person_id">Select Delivery Person:</label>
						<select id="delivery_person_id" name="delivery_person_id" class="form-control">
							{% for person in delivery_persons %}
								<option value="{{ person.id }}">{{ person.df_name }} {{ person.dl_name }}</option>
							{% endfor %}
						</select>
					</div>
					<button type="submit" class="btn btn-primary">Assign</button>
				</form>
			{% else %}
                <p>No delivery persons available.</p>
            {% endif %}
	{% else %}
		<p>Order not found.</p>
	{% endif %}
</div>

<!-- copyright -->
<div class="cpy-right text-center py-3" style="margin-top:20px;">
	<p>Â© 2024 Quality Meats. All rights reserved | Design by
		<a href=""> Avani.V</a>
	</p>
</div>
<!-- //copyright -->
<!-- move top icon -->
<a href="#home" class="move-top text-center">
	<span class="fa fa-level-up" aria-hidden="true"></span>
</a>
<!-- //move top icon -->

</body>
</html>